# 第一章课后作业

Section 1.1: R3
Section 1.2: R4
Section 1.3: R12, P8
Section 1.4: R16, P6, P10, P18, P23, P25
Section 1.5: R23, R24, R25

## 学习任务

1）理解Internet层次型网络架构。（1.1-1.2）
2）深入理解数据交换技术：分组交换（packet switching）和电路交换(circuit switching)，基本原理和优缺点。（1.3）
3）掌握计算机网络主要性能评价参数的物理含义及计算方法（1.4）：吞吐率（throughput）、延迟(delay)、丢包率(loss rate)等。深入理解bandwidth*delay的物理意义。
4）借助Traceroute工具，探测数据包所经过的路由器；理解实际网络中网络延迟等性能参数是需要测量得到的，不仅仅用理论计算。有专门的测量工具，有兴趣的可以检索下看看。网络性能测量也是一直在研究的重要问题。（1.4）
5）深入理解Internet协议栈分层设计的理念，每层的名称、主要功能。了解Internet每个协议层的主要协议。（1.5）

## R3. 标准对于协议为什么重要？

答：因为只有在每个人就各个协议及其作用取得一致认识的情况下，人们才能创造协同工作的系统和产品。

## R4. 列出4种接入技术。将它们分类为家庭接入、企业接入或广域无线接入

答：1. 数字用户线DSL接入：家庭接入 2. 100Mbps/1Gbps的以太网接入：企业接入/家庭接入 3. WIFI接入：企业接入/家庭接入 4. 5G技术：广域无线接入

## R12. 与分组交换网络相比，电路交换网络有哪些优点？在电路交换网络中，TDM比FDM有哪些优点？

答：电路交换网络优点：端到端时延固定且很小/实时性强/端到端带宽固定。TDM优点：每条电路在时隙中周期性地得到所有带宽，可根据使用频率分配时隙，相较于FDM更高效/当发生拥塞时，TDM只丢失该时刻占用带宽的电路上的数据，而FDM可能丢失全部，因为该时刻每条电路都占用带宽。

## P8. 假定用户共享一条10Mbps的链路。又设每个用户传输时要求200kbps，但是每个用户仅有10%的时间传输

a. $10M/200k = 50$个用户

b. 概率为10%

c. 概率为$C_{120}^{n}\times0.1^n\times0.9^{(120-n)}$

d. 概率为$1 - \Sigma_{i = 0}^{50}(C_{120}^{i}\times0.1^i\times0.9^{(120-i)})$

## R16. 考虑从某源主机跨越一条固定路由向某目的主机发送一分组。列出端到端时延中的时延组成成分。这些时延中的哪些是固定的，哪些是变化的？

答：$节点总时延 = 处理时延 + 排队时延 + 传输时延 + 传播时延$ 固定：处理时延、传输时延、传播时延 变化：排队时延

## P6. 考虑两台主机A和B由一条速率为Rbps的链路相连。假定这两台主机相隔m米，沿该链路的传播速率为sm/s。主机A向主机B发送长度L比特的分组

a. $d_{prop} = m/s(s)$

b. $d_{trans} = L/R(s)$

c. $d_{total} = d_{prop} + d_{trans} = (m/s + L/R)(s)$

d. 最后一个比特正好被主机A传播出去

e. 第一个比特在距离主机A的$mL/Rs(m)$处

f. 第一个比特已经到达主机B

g. 令$m/s = L/R$，有$m/{2.5\times10^8} = 1500\times8bit/10Mbps$，得到$m = 3\times10^5(m)$

## P10. 考虑一个长度为L的分组从端系统A开始，经过3段链路传送到目的端系统。令$d_i$、$s_i$和$R_i$表示链路i的长度、传播速度和传输速率(i = 1，2，3)。该分组交换机对每个分组的时延为$d_{proc}$提供。假定没有排队时延

a. $d_{total} = 2 \times d_{proc} + \Sigma_{i = 1}^3(L/R_i + d_i/s_i)$

b. $d_{total} = 2 \times 3ms + 3 \times (1500 \times 8bit/2.5Mbps) + (5000 + 4000 + 1000) \times 10^3 m/2.5 \times 10^8 m/s = 6ms + 3 \times 4.8ms + 0.04s = 60.4ms$

## P18. 在一天的3个不同的小时内，在同一个大陆上的源和目的地之间执行Traceroute

www.baidu.com

1. 2023/3/5 12：18
![img](https://img2023.cnblogs.com/blog/2975286/202303/2975286-20230305122019663-1751794268.png)
2. 2023/3/5 13：13
![img](https://img2023.cnblogs.com/blog/2975286/202303/2975286-20230305131923334-477102257.png)
3. 2023/3/5 14：15
![img](https://img2023.cnblogs.com/blog/2975286/202303/2975286-20230305141831430-386296975.png)

github.com

1. 2023/3/5 12：18
![img](https://img2023.cnblogs.com/blog/2975286/202303/2975286-20230305121822952-1263000002.png)
2. 2023/3/5 13：13
![img](https://img2023.cnblogs.com/blog/2975286/202303/2975286-20230305132514875-512521304.png)
3. 2023/3/5 14：15
![img](https://img2023.cnblogs.com/blog/2975286/202303/2975286-20230305142611239-1621387853.png)

a. $均值1 = (8 + 6 + 8)/3 = 7.3$

$方差1 = [(8 - 7.3)^2 + (6 - 7.3)^2 + (8 - 7.3)^2]/3 = 0.89$

$均值2 = (7 + 10 + 7)/3 = 8$

$方差2 = [(7 - 8)^2 + (10 - 8)^2 + (7 - 8)^2]/3 = 2$

$均值3 = (8 + 9 + 6)/3 = 7.36$

$方差3 = [(8 - 7.6)^2 + (9 - 7.6)^2 + (6 - 7.6)^2]/3 = 1.56$

b. 路径上的路由器数量均为16个，数量没有发生变化

c. ISP数量为7。出现了最大时延，发生在相邻ISP之间的对等接口上

d. 相同点:最大时延都发生在相邻ISP之间的对等接口上/都出现了请求超时的跃点

不同点：同一个大陆内的Traceroute只有16个跃点的数据，比不同大陆的跃点数要少很多/同一个大陆内的时延要明显小于不同大陆的时延/同一个大陆的Traceroute跟踪的路径在三个不同的时段是一致的，而不同大陆之间的Traceroute跟踪的路径在第一和第三个时间段路径一致。

## P23. 假定我们知道沿着从服务器到客户的路径的瓶颈链路是速率为$R_s$bps的第一段链路。假定我们从服务器向客户发送紧密相连的一对分组，且沿这条路径没有其他流量。假定每个分组的长度为L比特，两条链路具有相同的传播时延$d_{prop}$

a. $L/R_s$

b. 会产生排队时延。因为第二个分组到达分组交换机时，第一个分组还没有完全被发送出去$d_{prop} + 2 \times L/R_s < d_{prop} + L/R_s + L/R_c$。为了确保没有排队，只要使得不等式左边加上T之后等于右边即可，即$T = L/R_c - L/R_s$。

## P25. 假定两台主机A和B相隔20000km，由一条直接的R=5Mbps的链路相连。假定跨越该链路的传播速率为$2.5\times10^8$(m/s)

a. $R \times d_{prop} = 5Mbps \times 20000km/2.5 \times 10^8 m/s = 0.4Mb$

b. 最大值为0.4Mb

c. 带宽-时延积就是链路上具有比特数量的最大值

d. $l = 20000km/0.4Mb \times 1bit= 50m$一般足球场长度约为105m，所以一个比特的宽度不比足球场长。

e. $l = m/(R \times d_{prop}) \times 1bit = m/(R \times m / s) = s/R$

## R23. 因特网协议栈中的5个层次有哪些？在这些层次中，每层的主要任务是什么？

答：应用层、运输层、网络层、链路层、物理层

应用层主要任务：存留网络应用程序和应用层协议，为程序提供网络接口

运输层主要任务：在应用程序端点之间传送应用层报文

网络层主要任务：将数据报从一台主机移动到另一台主机

链路层主要任务：将整个帧从一个网络元素移动到邻近的网络元素

物理层主要任务：将该帧中的一个个比特从一个节点移动到下一个节点

## R24. 什么是应用层报文？什么是运输层报文段？什么是网络层数据报？什么是链路层帧？

答：应用层报文：应用层的信息分组

运输层报文段：运输层的分组

网络层数据报：网络层分组

链路层帧：链路层分组

## R25. 路由器处理因特网协议栈中的哪些层次？链路层交换机处理的是哪些层次？主机处理的是哪些层次？

答：路由器：网络层、链路层、物理层

链路层交换机：链路层、物理层

主机：应用层、运输层、网络层、链路层、物理层
